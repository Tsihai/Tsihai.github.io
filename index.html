<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>四海 - 一起去看海吧</title><meta name="author" content="sihai"><meta name="copyright" content="sihai"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="爱让悬崖变平地"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://tsihai.github.io/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '四海',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-11-17 03:11:47'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/sihai.css"><meta name="generator" content="Hexo 6.2.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/sihai.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">21</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></li></ul></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="四海"><span class="site-name">四海</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">四海</h1><div id="site-subtitle"><span id="subtitle"></span></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2023/07/15/2023.07.15/" title="一键部署 Spring Boot 项目到 Docker"><img class="post-bg" src="/img/cover/363173.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="一键部署 Spring Boot 项目到 Docker"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/07/15/2023.07.15/" title="一键部署 Spring Boot 项目到 Docker">一键部署 Spring Boot 项目到 Docker</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-07-14T16:00:00.000Z" title="发表于 2023-07-15 00:00:00">2023-07-15</time></span></div><div class="content">容器化部署应该是目前的主流方案。
不同于传统的单体应用，微服务由于服务数量众多，在部署的时候出问题的可能性更大，这个时候，结合 Docker 来部署，就可以很好的解决这个问题，这也是目前使用较多的方案之一。
将 Spring Boot 项目打包到 Docker 容器中部署，有很多不同的方法，主要将 Spring Boot 项目一键打包到远程 Docker 容器，然后通过运行一个镜像的方式来启动一个 Spring Boot 项目。


安装 Docker参考文章：https://blog.csdn.net/m0_59196543/article/details/124749175
配置 Docker 远程访问Docker 安装成功之后，我们首先需要修改 Docker 配置，开启允许远程访问 Docker 的功能，开启方式很简单，修改 &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;docker.service 文件，修改如下内容：
ExecStart=/usr/bin/dockerd -H tcp://0.0.0.0:2375  -H u ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/07/02/2023.07.02/" title="Spring Boot Actuator"><img class="post-bg" src="/img/cover/363615.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring Boot Actuator"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/07/02/2023.07.02/" title="Spring Boot Actuator">Spring Boot Actuator</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-07-01T16:00:00.000Z" title="发表于 2023-07-02 00:00:00">2023-07-02</time></span></div><div class="content">在 Spring Boot 项目中，我们使用的信息采集器主要就是 Spring Boot Actuator，这个模块由 Spring Boot 官方提供。
它包含了许多生产级别的功能，例如健康检查、审计、指标收集、HTTP 请求追踪等，Spring Boot Actuator 将这些信息收集起来后，通过 HTTP 和 JMX 两种方式暴露给外部模块。
例如 Spring Boot Actuator 通过 &#x2F;health 端点（endpoints）提供了应用的健康信息，开发者只需要访问该端点就可以看到应用的健康信息，但是这些端点返回的数据是 JSON 格式的，不方便查看，也不方便分析，所以一般情况下，Spring Boot Actuator 都是和一些外部模块一起使用。


Actuator 端点
首先创建一个 Spring Boot 项目，添加上 Actuator 依赖。
项目创建成功后，直接运行项目，可以在 Actuator 的 Mappings 看见端点信息。
可以通过配置文件来暴露可使用的端点。
也可以通过配置文件来打开远程暂停 Spring Boot 项目端点。发起  ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/06/17/2023.06.17/" title="Docker 远程服务入侵挖矿病毒"><img class="post-bg" src="/img/cover/364020.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Docker 远程服务入侵挖矿病毒"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/06/17/2023.06.17/" title="Docker 远程服务入侵挖矿病毒">Docker 远程服务入侵挖矿病毒</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-06-16T16:00:00.000Z" title="发表于 2023-06-17 00:00:00">2023-06-17</time></span></div><div class="content">登陆服务器的时候，突然发现 cpu 利用率爆表。
查看后台进程信息查看一下进程：
top -c

发现 &#x2F;tmp&#x2F;kdevtmpfsi 占据了 170% 的 CPU 资源。
百度一下之后，发现它是一个挖矿病毒。以及它还有一个叫 kinsing 的守护进程:

## 查询病毒的PID及其文件路径
ps -ef | grep kinsing

## 查询病毒的PID及其文件路径
ps -ef | grep kdevtmpfsi




隐藏进程侦查使用 unhide 扫描安装：
yum -y install unhide
暴力扫描隐藏进程：
unhide checkbrute



查看文件权限使用 lsattr 查看文件权限：
lsattr xmrigMiner

修改文件权限使用 chattr 更改文件权限：
chattr xmrigMiner

删除文件：rm -rf xmrigMiner


chattr 权限 格式： charrt [+ - =] [ 选项 ] 文件或目录名

+   增加权限
-   删除权限
=   赋予权限

i ： 对文件设置 i 属性 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/05/23/2023.05.23/" title="Mysql8 Linux 安装"><img class="post-bg" src="/img/cover/364273.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Mysql8 Linux 安装"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/05/23/2023.05.23/" title="Mysql8 Linux 安装">Mysql8 Linux 安装</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-22T16:00:00.000Z" title="发表于 2023-05-23 00:00:00">2023-05-23</time></span></div><div class="content">Linux 卸载 Mysql首先查询是否安装 Mysql1rpm -qa | grep -i mysql

如果查询出有别的版本的话，使用命令将其删除。
1rpm -e mysql-community-common-8.0.31-1.el7.x86_64.rpm



关闭 Mysql 服务查看 MySQL 服务运行状态：
1systemctl status mysqld

关闭 Mysql 服务：
1systemctl stop mysqld

使用查找命令查看 Mysql 对应文件：
1find / -name mysql

卸载并删除 Mysql 安装的全部组键服务:
1rm -rf /var/lib/mysql/mysql
卸载全部组件，清空 Mysql 相关的的所有目录以及文件。


Linux 安装 Mysql首先下载 Mysql 的 rpm 包官方下载地址：
https://downloads.mysql.com/archives/community/
选择下图中的版本：下载如下图中的四个包：下载完成后你的本地就会拥有下面几个包：

mysql-community-lib ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/05/19/2023.05.19/" title="Nacos"><img class="post-bg" src="/img/cover/364492.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Nacos"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/05/19/2023.05.19/" title="Nacos">Nacos</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-18T16:00:00.000Z" title="发表于 2023-05-19 00:00:00">2023-05-19</time></span></div><div class="content">Nacos 简介nacos 是 spring cloud alibaba 生态中非常重要的一个组件，作用：

注册与发现中心
配置中心
服务管理

基本特性：

服务发现
动态配置
动态 DNS 服务
服务及元数据管理

cap 理论在分布式系统中一致性 (consistency)，可用性 (availability)，分区容错性 (partition tolerance) 三者不可兼得

C (consistency): 一致性，同一时刻的同一请求的实例返回结果相同，属于强一致性性，也就是说，在集群环境中，对外提供的服务信息是完全一致的，但是在效率上面可能会有一定的损耗；
A (availability): 可用性，所有实例的读写请求在一定的时间内可以得到正确的响应，它是弱一致性，可能在极短的时间内，不同实例获取到的信息是不一致的，但是服务可用并且最终数据是一致的；
P (Partition tolerance): 分区容错性，在网络异常的情况下，仍旧能够提供正常的响应，这是在微服务系统中必须要保证的；

因为 P 是分布式服务中必须要保证的，那么现在就是 CP 和 AP 的组合。
 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/05/03/2023.05.03/" title="Spring Cloud Alibaba"><img class="post-bg" src="/img/cover/364589.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring Cloud Alibaba"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/05/03/2023.05.03/" title="Spring Cloud Alibaba">Spring Cloud Alibaba</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-02T16:00:00.000Z" title="发表于 2023-05-03 00:00:00">2023-05-03</time></span></div><div class="content">Spring Cloud Alibaba 介绍Spring Cloud Alibaba 致力于提供微服务开发的一站式解决方案。此项目包含开发分布式应用微服 务的必需组件，方便开发者通过 Spring Cloud 编程模型轻松使用这些组件来开发分布式应用服务。
依托 Spring Cloud Alibaba ，您只需要添加一些注解和少量配置，就可以将 Spring Cloud 应用接 入阿里微服务解决方案，通过阿里中间件来迅速搭建分布式应用系统。
Spring Cloud Alibaba 优势：

有中文文档
没有另起炉灶，可以更方便的集成到现有的项目中
阿里本身在高并发、高性能上面的经验，使我们有理由相信这些组件足够的可靠

spring cloud 中的几乎所有的组件都使用 Netflix 公司的产品，然后在其基础上做了一层封装。然而 Netflix 的服务发现组件 Eureka 已经停止更新，在使用过程中也存在着细小的问题；由此他的替代产品，也就是 spring cloud alibaba，目前正处于蓬勃发展的态式。


Spring Cloud Alibaba 主要功能
服务限流 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/04/23/2023.04.23/" title="Spring Cloud Stream"><img class="post-bg" src="/img/cover/364841.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring Cloud Stream"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/04/23/2023.04.23/" title="Spring Cloud Stream">Spring Cloud Stream</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-04-22T16:00:00.000Z" title="发表于 2023-04-23 00:00:00">2023-04-23</time></span></div><div class="content">Spring Cloud Stream 概念Spring Cloud Stream 作为用来构建消息驱动的微服务。
Spring Cloud Stream 中，提供了一个微服务和消息中间件之间的一个粘合剂，这个粘合剂叫做 Binder，Binder 负责与消息中间件进行交互。而我们开发者则通过 inputs 或者 outputs 这样的消息通道与 Binder 进行交互。


默认消息通道：Hello，stream。
首先创建一个 Spring Cloud Stream 项目，在其中添加三个依赖：web、rabbitmq、cloud stream。 
项目创建成功后，添加 RabbitMQ 的基本配置信息。 
接下来，创建一个简单的消息接收器 MsgReceiver。 
单启动 stream 项目，然后在 rabbitmq 后台管理页面发送一条测试消息。 http://localhost:15672/  Queues -&gt; Queue input.anonymous.cgUOBnM6Qc-Ek7paO3zPKA -&gt; Publish message -&gt; Payloa ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/04/12/2023.04.12/" title="Spring Cloud Config"><img class="post-bg" src="/img/cover/364854.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring Cloud Config"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/04/12/2023.04.12/" title="Spring Cloud Config">Spring Cloud Config</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-04-11T16:00:00.000Z" title="发表于 2023-04-12 00:00:00">2023-04-12</time></span></div><div class="content">分布式配置中心解决方案国内:

360: QConf 
淘宝：diamond 
百度：disconf



国外:

Apache Commons Configuration 
owner 
cfg4j

但是都不如 Spring Cloud Config 强大，因为它与 Spring 家族融合最好。


Spring Cloud Config 简介Spring Cloud Config 是一个分布式系统配置管理的解决方案。它包含了 Client 和 Server。配置文件放在 Server 端，通过接口的形式提供给 Client。
Spring Cloud Config 主要功能：

集中管理各个环境、各个微服务的配置文件 
提供服务端和客户端的支持 
配置文件修改后，可以快速生效 
配置文件通过 Git&#x2F;SVn 进行管理，天然支持版本回退功能 
支持高并发查询、同时支持多种开发语言



Spring Cloud Config 学习Spring Cloud Config 准备工作准备工作主要是给 Github 上提交数据。

首先在本地创建好相应的配置文件，我们在本地新建 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/03/20/2023.03.20/" title="Spring Cloud Gateway"><img class="post-bg" src="/img/cover/364873.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring Cloud Gateway"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/03/20/2023.03.20/" title="Spring Cloud Gateway">Spring Cloud Gateway</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-03-19T16:00:00.000Z" title="发表于 2023-03-20 00:00:00">2023-03-20</time></span></div><div class="content">Spring Cloud Gateway 特点
限流 
路径重写 
动态路由 
集成 Spring Cloud DiscoveryClient 
集成 Hystrix 断路器



Spring Cloud Gateway 和 Zuul 对比
Zuul 是 Netflix 公司的开源产品，而 Spring Cloud Gateway 是 Spring 家族中的产品，可以和 Spring 家族中的其他组件更好的融合。 
Zuul1 不支持长连接，而 Spring Cloud Gateway 支持。例如 websocket。（Zuul 通常指的是 Zuul1 版本)
Spring Cloud Gateway 支持限流。而 zuul 中没有自带限流。 
Zuul1 是基于 servlet 框架构建的，采用阻塞、多线程的方式，一个线程处理一次连接请求，这种请求方式在内部延迟严重，如果在故障较多的情况下，会引起存活的连接增多和线程增加，处理效率会低一些。 
而 Spring Cloud Gateway 是基于 Netty 来开发，实现异步和非阻塞，占用资源更小，性能方面更加有优势，强于 zuul ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/02/19/2023.02.19/" title="Zuul"><img class="post-bg" src="/img/cover/364883.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Zuul"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/02/19/2023.02.19/" title="Zuul">Zuul</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-02-18T16:00:00.000Z" title="发表于 2023-02-19 00:00:00">2023-02-19</time></span></div><div class="content">Zuul 是 Netflix 公司提供的一种网关服务。
zuul 的功能：
权限控制，可以做认证和授权 
监控 
动态路由 
负载均衡 
静态资源处理

 Zuul 中的功能基本上都是基于过滤器来实现的，它的过滤器有几种不同的类型：

PRE 
ROUTING 
POST 
ERROR



Hello，Zuul
首先创建一个 spring boot 项目，添加 zuul 依赖。 
在 application.yml 中配置，注册到 eureka 中。 
在启动类上添加启动注解 @EnableZuulProxy &#x2F;&#x2F; 开启网关代理。 
启动 eureka，provider，zuul 服务 
请求代理测试访问：localhost:2020&#x2F;provider&#x2F;hello，在这个地址中，provider 就是要访问的服务名称，&#x2F;hello 就是访问的服务接口。



zuul 路由规则自定义123456## 自定义 zuul 路由规则zuul:  routes:    sihai-a:      path: /sihai-a/**       ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><a class="page-number" href="/page/3/#content-inner">3</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/sihai.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">sihai</div><div class="author-info__description">爱让悬崖变平地</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">21</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Tsihai"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/07/15/2023.07.15/" title="一键部署 Spring Boot 项目到 Docker"><img src="/img/cover/363173.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="一键部署 Spring Boot 项目到 Docker"/></a><div class="content"><a class="title" href="/2023/07/15/2023.07.15/" title="一键部署 Spring Boot 项目到 Docker">一键部署 Spring Boot 项目到 Docker</a><time datetime="2023-07-14T16:00:00.000Z" title="发表于 2023-07-15 00:00:00">2023-07-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/07/02/2023.07.02/" title="Spring Boot Actuator"><img src="/img/cover/363615.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring Boot Actuator"/></a><div class="content"><a class="title" href="/2023/07/02/2023.07.02/" title="Spring Boot Actuator">Spring Boot Actuator</a><time datetime="2023-07-01T16:00:00.000Z" title="发表于 2023-07-02 00:00:00">2023-07-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/17/2023.06.17/" title="Docker 远程服务入侵挖矿病毒"><img src="/img/cover/364020.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Docker 远程服务入侵挖矿病毒"/></a><div class="content"><a class="title" href="/2023/06/17/2023.06.17/" title="Docker 远程服务入侵挖矿病毒">Docker 远程服务入侵挖矿病毒</a><time datetime="2023-06-16T16:00:00.000Z" title="发表于 2023-06-17 00:00:00">2023-06-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/05/23/2023.05.23/" title="Mysql8 Linux 安装"><img src="/img/cover/364273.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Mysql8 Linux 安装"/></a><div class="content"><a class="title" href="/2023/05/23/2023.05.23/" title="Mysql8 Linux 安装">Mysql8 Linux 安装</a><time datetime="2023-05-22T16:00:00.000Z" title="发表于 2023-05-23 00:00:00">2023-05-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/05/19/2023.05.19/" title="Nacos"><img src="/img/cover/364492.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Nacos"/></a><div class="content"><a class="title" href="/2023/05/19/2023.05.19/" title="Nacos">Nacos</a><time datetime="2023-05-18T16:00:00.000Z" title="发表于 2023-05-19 00:00:00">2023-05-19</time></div></div></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/07/"><span class="card-archive-list-date">七月 2023</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/06/"><span class="card-archive-list-date">六月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">五月 2023</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">四月 2023</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/03/"><span class="card-archive-list-date">三月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/02/"><span class="card-archive-list-date">二月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/01/"><span class="card-archive-list-date">一月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/12/"><span class="card-archive-list-date">十二月 2022</span><span class="card-archive-list-count">3</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">21</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2022-09-09T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">26.6k</div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By sihai</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js/dist/typed.umd.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  if (true) {
    typedJSFn.init(["爱让悬崖变平地","Love flattens cliffs"])
  } else {
    document.getElementById("subtitle").textContent = "爱让悬崖变平地"
  }
}
typedJSFn.run(subtitleType)</script></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener
  btf.removeGlobalFnEvent('pjax')
  btf.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":true},"log":false});</script></body></html>